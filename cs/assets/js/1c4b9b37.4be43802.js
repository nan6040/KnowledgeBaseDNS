"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[26],{5680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>m});var n=a(6540);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),i=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):p(p({},t),e)),a},u=function(e){var t=i(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",v={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=i(a),y=o,m=d["".concat(s,".").concat(y)]||d[y]||v[y]||r;return a?n.createElement(m,p(p({ref:t},u),{},{components:a})):n.createElement(m,p({ref:t},u))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,p=new Array(r);p[0]=y;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:o,p[1]=l;for(var i=2;i<r;i++)p[i]=a[i];return n.createElement.apply(null,p)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},5910:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>p,default:()=>v,frontMatter:()=>r,metadata:()=>l,toc:()=>i});var n=a(9668),o=(a(6540),a(5680));const r={},p="Jak vytvo\u0159it vlastn\xed raz\xedtko DNS pro zabezpe\u010den\xfd DNS",l={unversionedId:"miscellaneous/create-dns-stamp",id:"miscellaneous/create-dns-stamp",title:"Jak vytvo\u0159it vlastn\xed raz\xedtko DNS pro zabezpe\u010den\xfd DNS",description:"Tento pr\u016fvodce v\xe1m uk\xe1\u017ee, jak vytvo\u0159it vlastn\xed raz\xedtko DNS pro zabezpe\u010den\xfd DNS. Zabezpe\u010den\xfd DNS je slu\u017eba, kter\xe1 zvy\u0161uje bezpe\u010dnost a soukrom\xed na internetu \u0161ifrov\xe1n\xedm dotaz\u016f DNS. T\xedm se zabr\xe1n\xed tomu, aby va\u0161e dotazy zachytily nebo zmanipulovaly z\xe1ke\u0159n\xe9 subjekty.",source:"@site/i18n/cs/docusaurus-plugin-content-docs/current/miscellaneous/create-dns-stamp.md",sourceDirName:"miscellaneous",slug:"/miscellaneous/create-dns-stamp",permalink:"/KnowledgeBaseDNS/cs/miscellaneous/create-dns-stamp",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/miscellaneous/create-dns-stamp.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Kredity a pod\u011bkov\xe1n\xed",permalink:"/KnowledgeBaseDNS/cs/miscellaneous/acknowledgements"}},s={},i=[{value:"\xdavod k raz\xedtk\u016fm DNS",id:"\xfavod-k-raz\xedtk\u016fm-dns",level:2},{value:"V\xfdb\u011br protokolu",id:"v\xfdb\u011br-protokolu",level:2},{value:"Vytvo\u0159en\xed raz\xedtka DNS",id:"vytvo\u0159en\xed-raz\xedtka-dns",level:2},{value:"Z\xedsk\xe1n\xed hash certifik\xe1tu",id:"z\xedsk\xe1n\xed-hash-certifik\xe1tu",level:3},{value:"Pou\u017eit\xed raz\xedtka DNS",id:"pou\u017eit\xed-raz\xedtka-dns",level:2},{value:"P\u0159\xedklad vytvo\u0159en\xed raz\xedtka DNS",id:"p\u0159\xedklad-vytvo\u0159en\xed-raz\xedtka-dns",level:2}],u={toc:i},d="wrapper";function v(e){let{components:t,...a}=e;return(0,o.yg)(d,(0,n.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"jak-vytvo\u0159it-vlastn\xed-raz\xedtko-dns-pro-zabezpe\u010den\xfd-dns"},"Jak vytvo\u0159it vlastn\xed raz\xedtko DNS pro zabezpe\u010den\xfd DNS"),(0,o.yg)("p",null,"Tento pr\u016fvodce v\xe1m uk\xe1\u017ee, jak vytvo\u0159it vlastn\xed raz\xedtko DNS pro zabezpe\u010den\xfd DNS. Zabezpe\u010den\xfd DNS je slu\u017eba, kter\xe1 zvy\u0161uje bezpe\u010dnost a soukrom\xed na internetu \u0161ifrov\xe1n\xedm dotaz\u016f DNS. T\xedm se zabr\xe1n\xed tomu, aby va\u0161e dotazy zachytily nebo zmanipulovaly z\xe1ke\u0159n\xe9 subjekty."),(0,o.yg)("p",null,"Zabezpe\u010den\xfd DNS obvykle pou\u017e\xedv\xe1 URL ",(0,o.yg)("inlineCode",{parentName:"p"},"tls://"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"https://")," nebo ",(0,o.yg)("inlineCode",{parentName:"p"},"quic://"),". Tento zp\u016fsob je pro v\u011bt\u0161inu u\u017eivatel\u016f dosta\u010duj\xedc\xed a je doporu\u010dov\xe1n."),(0,o.yg)("p",null,"Pokud v\u0161ak pot\u0159ebujete dal\u0161\xed zabezpe\u010den\xed, jako jsou p\u0159edvy\u0159e\u0161en\xe9 IP adresy server\u016f a p\u0159ipnut\xed certifik\xe1tu pomoc\xed hashe, m\u016f\u017eete si vygenerovat vlastn\xed raz\xedtko DNS."),(0,o.yg)("h2",{id:"\xfavod-k-raz\xedtk\u016fm-dns"},"\xdavod k raz\xedtk\u016fm DNS"),(0,o.yg)("p",null,"Raz\xedtka DNS jsou kr\xe1tk\xe9 \u0159et\u011bzce, kter\xe9 obsahuj\xed v\u0161echny informace pot\u0159ebn\xe9 k p\u0159ipojen\xed k zabezpe\u010den\xe9mu serveru DNS. Zjednodu\u0161uj\xed proces nastaven\xed zabezpe\u010den\xe9ho DNS, proto\u017ee u\u017eivatel nemus\xed v\u0161echny tyto \xfadaje zad\xe1vat ru\u010dn\u011b."),(0,o.yg)("p",null,"Raz\xedtka DNS umo\u017e\u0148uj\xed p\u0159izp\u016fsobit nastaven\xed zabezpe\u010den\xe9ho DNS nad r\xe1mec obvykl\xfdch adres URL. Umo\u017e\u0148uj\xed zejm\xe9na zad\xe1vat pevn\u011b zadan\xe9 adresy server\u016f, pou\u017e\xedvat ha\u0161ov\xe1n\xed certifik\xe1t\u016f atd. D\xedky t\u011bmto funkc\xedm jsou raz\xedtka DNS robustn\u011bj\u0161\xed a univerz\xe1ln\u011bj\u0161\xed mo\u017enost\xed konfigurace nastaven\xed zabezpe\u010den\xe9ho DNS."),(0,o.yg)("h2",{id:"v\xfdb\u011br-protokolu"},"V\xfdb\u011br protokolu"),(0,o.yg)("p",null,"Mezi typy zabezpe\u010den\xfdch DNS pat\u0159\xed ",(0,o.yg)("inlineCode",{parentName:"p"},"DNS-over-HTTPS (DoH)"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"DNS-over-QUIC (DoQ)")," a ",(0,o.yg)("inlineCode",{parentName:"p"},"DNS-over-TLS (DoT)")," a n\u011bkter\xe9 dal\u0161\xed. V\xfdb\u011br jednoho z t\u011bchto protokol\u016f z\xe1vis\xed na kontextu, ve kter\xe9m je budete pou\u017e\xedvat."),(0,o.yg)("h2",{id:"vytvo\u0159en\xed-raz\xedtka-dns"},"Vytvo\u0159en\xed raz\xedtka DNS"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Otev\u0159ete ",(0,o.yg)("a",{parentName:"p",href:"https://dnscrypt.info/stamps/"},"DNSCrypt Stamp Calculator"),".")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"V z\xe1vislosti na zvolen\xe9m protokolu vyberte p\u0159\xedslu\u0161n\xfd protokol z rozbalovac\xed nab\xeddky (DoH, DoT nebo DoQ).")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Vypl\u0148te pot\u0159ebn\xe1 pole:"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"IP adresa"),": Zadejte IP adresu serveru DNS. Pokud pou\u017e\xedv\xe1te protokol DoT nebo DoQ, ujist\u011bte se, \u017ee jste zadali tak\xe9 p\u0159\xedslu\u0161n\xfd port.")),(0,o.yg)("admonition",{parentName:"li",type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Toto pole je nepovinn\xe9 a m\u011blo by b\xfdt pou\u017eito s opatrnost\xed: pou\u017eit\xed t\xe9to mo\u017enosti m\u016f\u017ee naru\u0161it internet v s\xedt\xedch vyu\u017e\xedvaj\xedc\xedch pouze protokol IPv6.")))),(0,o.yg)("p",null,":::"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"- **Hash**: Zadejte SHA256 p\u0159ehled jednoho z certifik\xe1t\u016f TBS nalezen\xfdch v ov\u011b\u0159ovac\xedm \u0159et\u011bzci. Pokud DNS server, kter\xfd pou\u017e\xedv\xe1te, poskytuje hotov\xfd hash, vyhledejte jej a zkop\xedrujte. V opa\u010dn\xe9m p\u0159\xedpad\u011b jej m\u016f\u017eete z\xedskat podle pokyn\u016f v \u010d\xe1sti [*Z\xedsk\xe1n\xed hashov\xe9 hodnoty certifik\xe1tu*](#obtaining-the-certificate-hash).\n\n:::note\n\nToto pole je nepovinn\xe9\n")),(0,o.yg)("p",null,":::"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},'- **N\xe1zev hostitele**: Zadejte n\xe1zev hostitele DNS serveru. Toto pole se pou\u017e\xedv\xe1 k ov\u011b\u0159en\xed n\xe1zvu serveru v protokolech DoT a DoQ.\n\n- Pro **DoH**:\n  - **Cesta**: Zadejte cestu k prov\xe1d\u011bn\xed po\u017eadavk\u016f DoH. Obvykle je to `"/dns-query"`, ale v\xe1\u0161 poskytovatel m\u016f\u017ee poskytnout jinou cestu.\n\n-     Pro **DoT a DoQ**:\n  - V tomto n\xe1stroji obvykle nejsou pro tyto protokoly \u017e\xe1dn\xe1 specifick\xe1 pole. Jen se ujist\u011bte, \u017ee port zadan\xfd v adrese \u0159e\u0161itele je spr\xe1vn\xfd.\n\n- V \u010d\xe1sti **Vlastnosti** m\u016f\u017eete zkontrolovat p\u0159\xedslu\u0161n\xe9 vlastnosti, pokud jsou zn\xe1m\xe9 a pou\u017eiteln\xe9 pro v\xe1\u0161 DNS server.\n')),(0,o.yg)("ol",{start:4},(0,o.yg)("li",{parentName:"ol"},"Va\u0161e raz\xedtko se automaticky vygeneruje a zobraz\xed se v poli ",(0,o.yg)("strong",{parentName:"li"},"Raz\xedtko"),".")),(0,o.yg)("h3",{id:"z\xedsk\xe1n\xed-hash-certifik\xe1tu"},"Z\xedsk\xe1n\xed hash certifik\xe1tu"),(0,o.yg)("p",null,"Chcete-li vyplnit pole ",(0,o.yg)("strong",{parentName:"p"},"hash certifik\xe1tu")," serveru, m\u016f\u017eete pou\u017e\xedt n\xe1sleduj\xedc\xed p\u0159\xedkaz, kter\xfdm nahrad\xedte ",(0,o.yg)("inlineCode",{parentName:"p"},"<IP_ADDRESS>"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"<PORT>")," a ",(0,o.yg)("inlineCode",{parentName:"p"},"<SERVER_NAME>")," odpov\xeddaj\xedc\xedmi hodnotami pro v\xe1\u0161 DNS server:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"echo | openssl s_client -connect <IP_ADDRESS>:<PORT> -servername <SERVER_NAME> 2>/dev/null | openssl x509 -outform der | openssl asn1parse -inform der -strparse 4 -noout -out - | openssl dgst -sha256\n")),(0,o.yg)("admonition",{type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"V\xfdsledek p\u0159\xedkazu hash se m\u016f\u017ee v pr\u016fb\u011bhu \u010dasu m\u011bnit v z\xe1vislosti na aktualizaci certifik\xe1tu serveru. Pokud tedy raz\xedtko DNS n\xe1hle p\u0159estane fungovat, m\u016f\u017ee b\xfdt nutn\xe9 p\u0159epo\u010d\xedtat hash certifik\xe1tu a vygenerovat nov\xe9 raz\xedtko. Pravideln\xe1 aktualizace raz\xedtka DNS pom\u016f\u017ee zajistit trval\xfd bezpe\u010dn\xfd provoz slu\u017eby zabezpe\u010den\xe9ho DNS.")),(0,o.yg)("h2",{id:"pou\u017eit\xed-raz\xedtka-dns"},"Pou\u017eit\xed raz\xedtka DNS"),(0,o.yg)("p",null,"Nyn\xed m\xe1te vlastn\xed raz\xedtko DNS, kter\xe9 m\u016f\u017eete pou\u017e\xedt k nastaven\xed slu\u017eby zabezpe\u010den\xe9ho DNS. Toto raz\xedtko lze zadat do aplikac\xed AdGuard a AdGuard VPN pro zv\xfd\u0161en\xed soukrom\xed a bezpe\u010dnosti na internetu."),(0,o.yg)("h2",{id:"p\u0159\xedklad-vytvo\u0159en\xed-raz\xedtka-dns"},"P\u0159\xedklad vytvo\u0159en\xed raz\xedtka DNS"),(0,o.yg)("p",null,"Uve\u010fme si p\u0159\xedklad vytvo\u0159en\xed raz\xedtka pro AdGuard DNS pomoc\xed DoT:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Otev\u0159ete ",(0,o.yg)("a",{parentName:"p",href:"https://dnscrypt.info/stamps/"},"DNSCrypt Stamp Calculator"),".")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Vyberte protokol DNS-over-TLS (DoT).")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Vypl\u0148te n\xe1sleduj\xedc\xed pole:"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"IP adresa"),": Zadejte IP adresu a port DNS serveru. V tomto p\u0159\xedpad\u011b je to ",(0,o.yg)("inlineCode",{parentName:"p"},"94.140.14.14:853"),".")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"N\xe1zev hostitele"),": Zadejte n\xe1zev hostitele DNS serveru. V tomto p\u0159\xedpad\u011b je to ",(0,o.yg)("inlineCode",{parentName:"p"},"dns.adguard-dns.com"),".")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Hash"),": Prove\u010fte p\u0159\xedkaz"))),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"echo | openssl s_client -connect 94.140.14.14:853 -servername dns.adguard-dns.com 2>/dev/null | openssl x509 -outform der | openssl asn1parse -inform der -strparse 4 -noout -out - | openssl dgst -sha256\n")),(0,o.yg)("p",{parentName:"li"},"V\xfdsledek je ",(0,o.yg)("inlineCode",{parentName:"p"},"1ebea9685d57a3063c427ac4f0983f34e73c129b06e7e7705640cacd40c371c8")," Tento hash SHA256 certifik\xe1tu serveru vlo\u017ete do pole.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Sekci Vlastnosti ponechte pr\xe1zdnou.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Va\u0161e raz\xedtko se automaticky vygeneruje a zobraz\xed se v poli ",(0,o.yg)("strong",{parentName:"p"},"Raz\xedtko"),"."))))}v.isMDXComponent=!0}}]);