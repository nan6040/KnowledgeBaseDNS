"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[632],{5680:(e,n,r)=>{r.d(n,{xA:()=>g,yg:()=>k});var t=r(6540);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){a(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function d(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=t.createContext({}),s=function(e){var n=t.useContext(o),r=n;return e&&(r="function"==typeof e?e(n):l(l({},n),e)),r},g=function(e){var n=s(e.components);return t.createElement(o.Provider,{value:n},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var r=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,g=d(e,["components","mdxType","originalType","parentName"]),m=s(r),u=a,k=m["".concat(o,".").concat(u)]||m[u]||p[u]||i;return r?t.createElement(k,l(l({ref:n},g),{},{components:r})):t.createElement(k,l({ref:n},g))}));function k(e,n){var r=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=u;var d={};for(var o in n)hasOwnProperty.call(n,o)&&(d[o]=n[o]);d.originalType=e,d[m]="string"==typeof e?e:a,l[1]=d;for(var s=2;s<i;s++)l[s]=r[s];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}u.displayName="MDXCreateElement"},8622:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>d,toc:()=>s});var t=r(9668),a=(r(6540),r(5680));const i={title:"Sikker ops\xe6tning af AdGuard Home",sidebar_position:4},l=void 0,d={unversionedId:"adguard-home/running-securely",id:"adguard-home/running-securely",title:"Sikker ops\xe6tning af AdGuard Home",description:"Denne side indeholder en liste over yderligere anbefalinger, som fremmer sikkerheden i AdGuard Home.",source:"@site/i18n/da/docusaurus-plugin-content-docs/current/adguard-home/running-securely.md",sourceDirName:"adguard-home",slug:"/adguard-home/running-securely",permalink:"/KnowledgeBaseDNS/da/adguard-home/running-securely",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/adguard-home/running-securely.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Sikker ops\xe6tning af AdGuard Home",sidebar_position:4},sidebar:"sidebar",previous:{title:"FAQ",permalink:"/KnowledgeBaseDNS/da/adguard-home/faq"},next:{title:"Opdatering af Vidensbase",permalink:"/KnowledgeBaseDNS/da/miscellaneous/update-kb"}},o={},s=[{value:"Valg af serveradresser",id:"valg-af-serveradresser",level:2},{value:"Adgangsindstillinger",id:"adgangsindstillinger",level:2},{value:"Deaktivering af alm. DNS",id:"deaktivering-af-alm-dns",level:2},{value:"Alm. DNS-frekvensbegr\xe6nsning",id:"alm-dns-frekvensbegr\xe6nsning",level:2},{value:"OS-tjenesteproblemer",id:"os-tjenesteproblemer",level:2},{value:"Unix (FreeBSD, Linux, macOS, OpenBSD)",id:"unix-freebsd-linux-macos-openbsd",level:3},{value:"Windows",id:"windows",level:3}],g={toc:s},m="wrapper";function p(e){let{components:n,...r}=e;return(0,a.yg)(m,(0,t.A)({},g,r,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"Denne side indeholder en liste over yderligere anbefalinger, som fremmer sikkerheden i AdGuard Home."),(0,a.yg)("h2",{id:"valg-af-serveradresser"},"Valg af serveradresser"),(0,a.yg)("p",null,"F\xf8rste gang AdGuard Home startes, sp\xf8rger den om, hvilken gr\xe6nseflade der skal bruge til levering af alm. DNS. Den mest sikre og bekvemme mulighed afh\xe6nger af, hvorledes AdGuard Home \xf8nskes k\xf8rt. Adresse(r) kan skiftes senere ved at stoppe AdGuard Home, redigere feltet ",(0,a.yg)("inlineCode",{parentName:"p"},"dns.bind_hosts")," i ops\xe6tningsfilen og genstarte AdGuard Home."),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"UI'en giver pt. kun mulighed for at v\xe6lge \xe9n gr\xe6nseflade, men der kan faktisk v\xe6lges flere adresser gennem ops\xe6tningsfilen. Vi vil forbedre UI'en i fremtidige udgivelser.")),(0,a.yg)("p",null,"Er det hensigten at k\xf8re AdGuard Home ",(0,a.yg)("strong",{parentName:"p"},"kun p\xe5 en computer,"),' v\xe6lg da loopback-enheden (ogs\xe5 kaldet "localhost"). Den kaldes normalt ',(0,a.yg)("inlineCode",{parentName:"p"},"localhost"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"lo")," eller noget lignende og har adressen ",(0,a.yg)("inlineCode",{parentName:"p"},"127.0.0.1"),"."),(0,a.yg)("p",null,"Planl\xe6gges AdGuard Home k\xf8rt p\xe5 en ",(0,a.yg)("strong",{parentName:"p"},"router p\xe5 et lille isoleret netv\xe6rk"),", v\xe6lg da den lokalt leverede gr\xe6nseflade. Navnene kan variere, men de indeholder normalt ordene 'wlan' eller 'wlp' og har en adresse begyndende med '192.168.'. Man b\xf8r nok ogs\xe5 tilf\xf8je loopback-adressen, hvis software p\xe5 selve routeren ogs\xe5 skal bruge AdGuard Home."),(0,a.yg)("p",null,"Er hensigten at k\xf8re AdGuard Home p\xe5 en ",(0,a.yg)("strong",{parentName:"p"},"offentligt tilg\xe6ngelig server"),", vil man sandsynligvis v\xe6lge indstillingen ",(0,a.yg)("em",{parentName:"p"},"Alle gr\xe6nseflader"),". Bem\xe6rk, at dette kan uds\xe6tte serveren for DDoS-angreb, s\xe5 l\xe6s venligst afsnittene om adgangsindstillinger og hastighedsbegr\xe6nsning nedenfor."),(0,a.yg)("h2",{id:"adgangsindstillinger"},"Adgangsindstillinger"),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"Hvis AdGuard Home ikke er tilg\xe6ngelig udefra, kan dette afsnit overspringes.")),(0,a.yg)("p",null,"Nederst p\xe5 siden ",(0,a.yg)("em",{parentName:"p"},"Indstillinger")," \u2192 ",(0,a.yg)("em",{parentName:"p"},"DNS-indstillinger")," findes afsnittet ",(0,a.yg)("em",{parentName:"p"},"Adgangsindstillinger"),". Disse indstillinger muligg\xf8r enten at udelukke klienter kendt for at misbruge AdGuard Home-instansen, eller at aktivere Hvidlistetilstanden. Hvidlistetilstanden anbefales til offentlig brug, hvor antallet af klienter er kendt, og alle klienterne er i stand til at bruge sikker DNS."),(0,a.yg)("p",null,"For at aktivere Hvidlistetilstanden, angiv ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/wiki/Clients#clientid"},"ClientIDs")," (anbefales) eller IP-adresser for tilladte klienter i feltet ",(0,a.yg)("em",{parentName:"p"},"Tilladte klienter"),"."),(0,a.yg)("h2",{id:"deaktivering-af-alm-dns"},"Deaktivering af alm. DNS"),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"Hvis AdGuard Home ikke er tilg\xe6ngelig udefra, kan dette afsnit overspringes.")),(0,a.yg)("p",null,"Er alle klienter, som anvender AdGuard Home, i stand til at anvende krypterede protokoller, er det en god id\xe9 at deaktivere alm. DNS eller at g\xf8re den utilg\xe6ngelig udefra."),(0,a.yg)("p",null,"\xd8nskes alm. DNS-levering deaktiveret helt, kan dette g\xf8res fra siden ",(0,a.yg)("em",{parentName:"p"},"Indstillinger")," \u2192 ",(0,a.yg)("em",{parentName:"p"},"Krypteringsindstillinger"),"."),(0,a.yg)("p",null,"\xd8nskes alm. DNS begr\xe6nset til kun intern brug, stop AdGuard Home, redig\xe9r feltet ",(0,a.yg)("inlineCode",{parentName:"p"},"dns.bind_hosts")," i ops\xe6tningsfilen, s\xe5 det kun indeholder loopback-adresse(n/rne) og genstart dern\xe6st AdGuard Home."),(0,a.yg)("h2",{id:"alm-dns-frekvensbegr\xe6nsning"},"Alm. DNS-frekvensbegr\xe6nsning"),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"Hvis AdGuard Home ikke er tilg\xe6ngelig udefra, kan dette afsnit overspringes.")),(0,a.yg)("p",null,"En standard alm. DNS-frekvensbegr\xe6nsning p\xe5 20 burde generelt v\xe6re tilstr\xe6kkelig, men har man en liste over kendte klienter, kan man f\xf8je dem til hvidlisten og angive en strengere frekvensbegr\xe6nsning for andre klienter."),(0,a.yg)("h2",{id:"os-tjenesteproblemer"},"OS-tjenesteproblemer"),(0,a.yg)("p",null,"For at forhindre eskalering af privilegier gennem bin\xe6r plantning er det vigtigt, at den mappe, hvori AdGuard Home er installeret, er tildelt korrekt ejerskab og tilladelser."),(0,a.yg)("p",null,"Vi takker Go Compile for hj\xe6lpen med at skrive dette afsnit."),(0,a.yg)("h3",{id:"unix-freebsd-linux-macos-openbsd"},"Unix (FreeBSD, Linux, macOS, OpenBSD)"),(0,a.yg)("p",null,"AdGuard Home-arbejdsmappen, der som standard er ",(0,a.yg)("inlineCode",{parentName:"p"},"/Applications/AdGuardHome")," p\xe5 macOS og ",(0,a.yg)("inlineCode",{parentName:"p"},"/opt/AdGuardHome")," p\xe5 andre Unix-systemer, s\xe5vel som selve bin\xe6rfilen b\xf8r generelt have ",(0,a.yg)("inlineCode",{parentName:"p"},"root:root"),"-ejerskab og ikke kunne skrives til af andre end 'root'. Man kan tjekke dette med flg. kommando, og erstatte ",(0,a.yg)("inlineCode",{parentName:"p"},"/opt/AdGuardHome")," med sin mappe og ",(0,a.yg)("inlineCode",{parentName:"p"},"/opt/AdGuardHome/AdGuardHome")," med sin bin\xe6re:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sh"},"ls -d -l /opt/AdGuardHome\nls -l /opt/AdGuardHome/AdGuardHome\n")),(0,a.yg)("p",null,"Et rimeligt sikkert output burde se s\xe5dan ud:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-none"},"drwxr-xr-x 4 root root 4096 Jan 1 12:00 /opt/AdGuardHome/\n-rwxr-xr-x 1 root root 29409280 Jan 1 12:00 /opt/AdGuardHome/AdGuardHome\n")),(0,a.yg)("p",null,'Bem\xe6rk manglen p\xe5 skrivetilladelse for andre end "root", s\xe5vel som "root"-ejerskab. Er tilladelserne og/eller ejerskabet ikke er korrekte, eksekv\xe9r flg. kommandoer under ',(0,a.yg)("inlineCode",{parentName:"p"},"root"),":"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sh"},"chmod 755 /opt/AdGuardHome/ /opt/AdGuardHome/AdGuardHome\nchown root:root /opt/AdGuardHome/ /opt/AdGuardHome/AdGuardHome\n")),(0,a.yg)("h3",{id:"windows"},"Windows"),(0,a.yg)("p",null,"Princippet er det samme p\xe5 Windows: S\xf8rg for, at AdGuard-hjemmemappen, typisk ",(0,a.yg)("inlineCode",{parentName:"p"},"C:\\Program Files\\AdGuardHome"),", samt den bin\xe6re ",(0,a.yg)("inlineCode",{parentName:"p"},"AdGuardHome.exe"),", har de tilladelser, som kun tillader alm. brugere at l\xe6se og eksekvere/opliste dem."),(0,a.yg)("p",null,"Fremadrettet planl\xe6gger vi at frigive Windows-builds som MSI-installationsfiler, hvilket sikrer, at dette udf\xf8res automatisk."))}p.isMDXComponent=!0}}]);